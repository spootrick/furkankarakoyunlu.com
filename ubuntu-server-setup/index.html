<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="IntroductionWhen you create a new server, there are some configurations you need to make in order to increase security and usability of your server.In this tutorial I’m going to use Ubuntu 16.04 for">
<meta property="og:type" content="article">
<meta property="og:title" content="Ubuntu 16.04 Server Setup">
<meta property="og:url" content="http://furkankarakoyunlu.com/ubuntu-server-setup/index.html">
<meta property="og:site_name" content="Furkan Karakoyunlu">
<meta property="og:description" content="IntroductionWhen you create a new server, there are some configurations you need to make in order to increase security and usability of your server.In this tutorial I’m going to use Ubuntu 16.04 for">
<meta property="og:image" content="https://furkankarakoyunlu.com/images/ubuntu_server_setup.jpg">
<meta property="og:updated_time" content="2017-01-29T13:08:51.120Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ubuntu 16.04 Server Setup">
<meta name="twitter:description" content="IntroductionWhen you create a new server, there are some configurations you need to make in order to increase security and usability of your server.In this tutorial I’m going to use Ubuntu 16.04 for">
<meta name="twitter:image" content="https://furkankarakoyunlu.com/images/ubuntu_server_setup.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Ubuntu 16.04 Server Setup</title>
    <!-- styles -->
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/meslo-LG/styles.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
    <!-- jquery -->
    <script src="/lib/jquery/jquery.min.js"></script>
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/spootrick">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/ubuntu-openvpn-kurulumu/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/hello-hexo/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://furkankarakoyunlu.com/ubuntu-server-setup/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&text=Ubuntu 16.04 Server Setup"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&is_video=false&description=Ubuntu 16.04 Server Setup"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Ubuntu 16.04 Server Setup&body=Check out this article: http://furkankarakoyunlu.com/ubuntu-server-setup/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&name=Ubuntu 16.04 Server Setup&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Login"><span class="toc-number">2.</span> <span class="toc-text">Login</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-a-new-user"><span class="toc-number">3.</span> <span class="toc-text">Create a new user</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security"><span class="toc-number">4.</span> <span class="toc-text">Security</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-Modifications"><span class="toc-number">4.1.</span> <span class="toc-text">SSH Modifications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Firewall"><span class="toc-number">4.2.</span> <span class="toc-text">Firewall</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Usability"><span class="toc-number">5.</span> <span class="toc-text">Usability</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swap-Space"><span class="toc-number">5.1.</span> <span class="toc-text">Swap Space</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Making-Swap-Permanent"><span class="toc-number">5.1.1.</span> <span class="toc-text">Making Swap Permanent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Configuring-Swap"><span class="toc-number">5.1.2.</span> <span class="toc-text">Configuring Swap</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Swappiness-Property"><span class="toc-number">5.1.2.1.</span> <span class="toc-text">Swappiness Property</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Cache-Pressure-Setting"><span class="toc-number">5.1.2.2.</span> <span class="toc-text">Cache Pressure Setting</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ZSH"><span class="toc-number">5.2.</span> <span class="toc-text">ZSH</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">6.</span> <span class="toc-text">Conclusion</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Ubuntu 16.04 Server Setup
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Furkan Karakoyunlu</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-01-27T21:20:23.000Z" itemprop="datePublished">28 Jan 2017</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Getting-Started/">Getting Started</a>, <a class="tag-link" href="/tags/Security/">Security</a>, <a class="tag-link" href="/tags/Swap-Space/">Swap Space</a>, <a class="tag-link" href="/tags/Ubuntu/">Ubuntu</a>, <a class="tag-link" href="/tags/Ubuntu-16-04-Server/">Ubuntu 16.04 Server</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><img src="https://furkankarakoyunlu.com/images/ubuntu_server_setup.jpg" alt="Ubuntu 16.04 Server Setup"></p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>When you create a new server, there are some configurations you need to make in order to increase security and usability of your server.<br>In this tutorial I’m going to use Ubuntu 16.04 for my server.</p>
<h2 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h2><p>To log into server, you will need to know the root password and public IP address of your server.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh root@server-IP</div></pre></td></tr></table></figure></p>
<p>Accept the warning about host authenticity. Than change the root password for security reasons. After that update the system.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ apt-get update &amp;&amp; apt-get -y upgrade</div></pre></td></tr></table></figure></p>
<h2 id="Create-a-new-user"><a href="#Create-a-new-user" class="headerlink" title="Create a new user"></a>Create a new user</h2><p>Again for the security reasons you need to create a non-root sudo user. To make this, first create a new user.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ adduser lahmacun</div></pre></td></tr></table></figure></p>
<p>This example creates new user called <code>lahmacun</code>. Sometimes you need to do administrative tasks. To avoid log in and log out to root account we can setup root privileges to our non-root user. Now you will be able to run commands with administrative privileges by putting the <code>sudo</code> in front of each command. In order to do that we need to add our user to sudo group. As root run this command:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ usermod -aG sudo lahmacun</div></pre></td></tr></table></figure></p>
<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><h3 id="SSH-Modifications"><a href="#SSH-Modifications" class="headerlink" title="SSH Modifications"></a>SSH Modifications</h3><p>We want our server is to be secure. Now we are going to change default port of ssh, which is <code>22</code>, to some suitable port like 1729. And disable root login from ssh.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vi /etc/ssh/sshd_config</div></pre></td></tr></table></figure></p>
<p>You can see the <code>Port 22</code> line. Change 22 to 1729. <code>Port 1729</code> And in authentication section change <code>PermitRootLogin yes</code> to <code>PermitRootLogin no</code>.<br>Now you changed ssh port to 1729 and disabled root login from ssh.<br>To enable new settings, you need to reload ssh.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo systemctl reload ssh</div></pre></td></tr></table></figure></p>
<p>Now you can login your server by typing like this:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -p1729 lahmacun@server-IP</div></pre></td></tr></table></figure></p>
<h3 id="Firewall"><a href="#Firewall" class="headerlink" title="Firewall"></a>Firewall</h3><p>You can use UFW to set up basic firewall very easily. We need to make sure that firewall allows SSH connections from the port we just set up. (Mine is 1729) You can allow this by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ufw allow 1729</div></pre></td></tr></table></figure></p>
<p>Than you can enable the firewall by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ufw enable</div></pre></td></tr></table></figure></p>
<p>Type <code>y</code> when it asks a question about current connections.<br>You can see allowed ports by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ufw status</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Status: active</div><div class="line"></div><div class="line">To                         Action      From</div><div class="line">--                         ------      ----</div><div class="line">OpenSSH                    ALLOW       Anywhere</div><div class="line">1729                       ALLOW       Anywhere</div><div class="line">1729 (v6)                  ALLOW       Anywhere (v6)</div></pre></td></tr></table></figure>
<p>Some applications can register their profiles to UFW. This allows to manage applications in UFW by name. To see available apps, type:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ufw app list</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Available applications:</div><div class="line">  OpenSSH</div></pre></td></tr></table></figure>
<p>You can just type <code>ufw allow OpenSSH</code> instead <code>ufw allow 22</code></p>
<p>If you install additional services, you will need to adjust firewall settings to accept traffic.</p>
<h2 id="Usability"><a href="#Usability" class="headerlink" title="Usability"></a>Usability</h2><h3 id="Swap-Space"><a href="#Swap-Space" class="headerlink" title="Swap Space"></a>Swap Space</h3><p>Swap is an area on hard drive which can be used as temporarily data storage. It will be used when there is no longer enough space in RAM. Keep in mind that the information written to disk will be much more slower than RAM. (Nowadays SSD storages can speedup this process but it has negative effect on the hardware lifespan.)</p>
<p>Overall, having swap space is a good safety measurement against <code>out-of-memory</code> exceptions.</p>
<p>To check whether if the system already has the swap space.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo swapon --show</div></pre></td></tr></table></figure></p>
<p>If you don’t get back any output, your system doesn’t have swap space. You can verify it by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ free -h</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">        total        used        free      shared  buff/cache   available</div><div class="line">Mem:     488M         49M        117M        2.7M        321M        403M</div><div class="line">Swap:      0B          0B          0B</div></pre></td></tr></table></figure>
<p>On the swap row it shows <code>0B</code>.</p>
<p>In order to decide the volume of swap space, we need to check available space on the hard drive by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ df -h</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Filesystem      Size  Used Avail Use% Mounted on</div><div class="line">udev            236M     0  236M   0% /dev</div><div class="line">tmpfs            49M  5.6M   44M  12% /run</div><div class="line">/dev/vda1        20G  3.6G   16G  19% /</div><div class="line">tmpfs           245M     0  245M   0% /dev/shm</div><div class="line">tmpfs           5.0M     0  5.0M   0% /run/lock</div><div class="line">tmpfs           245M     0  245M   0% /sys/fs/cgroup</div><div class="line">tmpfs            49M     0   49M   0% /run/user/1000</div></pre></td></tr></table></figure>
<p>As you can see on <code>/dev/vda1</code> I have <code>16G</code> free space.<br>Now we are going to create <code>1G</code> swap space in our root directory <code>/</code>.<br>You can adjust the space according to your RAM size. It generally equals with the RAM size or double the RAM size.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo fallocate -l 1G /swapfile</div></pre></td></tr></table></figure></p>
<p>Verify the swap space:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls -lh /swapfile</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-rw-r--r-- 1 root root 1.0G Jan 28 1:14 /swapfile</div></pre></td></tr></table></figure>
<p>You can see that the swap space is added.</p>
<p>Now we need to enable this space. First we will make the file only accessible by root:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo chmod 600 /swapfile</div></pre></td></tr></table></figure></p>
<p>you can verify it by typing <code>ls -lh /swapfile</code> and than mark the file as swap space:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo mkswap /swapfile</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Setting up swapspace version 1, size = 1024 MiB (1073737728 bytes)</div><div class="line">no label, UUID=13564270-e4e4-11e6-bf01-fe55135034f3</div></pre></td></tr></table></figure>
<p>After marked the swap file, you can enable it:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo swapon /swapfile</div></pre></td></tr></table></figure></p>
<p>To verify the swap space is available, type<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo swapon --show</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NAME      TYPE SIZE USED PRIO</div><div class="line">/swapfile file   1G   1M   -1</div></pre></td></tr></table></figure>
<p>Swap space successfully added.</p>
<p>warning!<br>If you are using SSD, using swap will be shorten your hardware life.</p>
<h4 id="Making-Swap-Permanent"><a href="#Making-Swap-Permanent" class="headerlink" title="Making Swap Permanent"></a>Making Swap Permanent</h4><p>Above changes have enabled the swap space only for the current session. If you reboot the server swap space will not available.<br>We can make it permanent by adding it to <code>/etc/fstab</code>. First backup the fstab file in case anything goes wrong.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cp /etc/fstab /etc/fstab.backup</div></pre></td></tr></table></figure></p>
<p>Now open <code>fstab</code> file<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vi /etc/fstab</div></pre></td></tr></table></figure></p>
<p>At the end of the file add this line:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/swapfile none swap sw 0 0</div></pre></td></tr></table></figure></p>
<p>Than save the file and exit and type this command:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo tee -a /etc/fstab</div></pre></td></tr></table></figure></p>
<h4 id="Configuring-Swap"><a href="#Configuring-Swap" class="headerlink" title="Configuring Swap"></a>Configuring Swap</h4><p>You can improve system’s performance when dealing with swap.</p>
<h5 id="Swappiness-Property"><a href="#Swappiness-Property" class="headerlink" title="Swappiness Property"></a>Swappiness Property</h5><p>The <code>swappiness</code> parameter configures how often your system swaps data out of RAM to the swap space. This value is between 0 and 100 (represents a percentage)</p>
<p>If the value close to zero, that means the system will not use the swap unless its absolutely necessary. Note that interactions with the swap are take longer time than interactions with RAM. So higher swappiness values can cause significant performance reduction.</p>
<p>If the value close to 100, that means the system try to put more data into swap and keep more RAM space free. Depending your application type, maybe it can be useful.</p>
<p>To check your current swappiness value:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat /proc/sys/vm/swappiness</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">60</div></pre></td></tr></table></figure>
<p>For a server the swappiness value needs to closer to 0. (for the performance)</p>
<p>You can set swappiness to 10 by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo sysctl vm.swappiness=10</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vm.swappiness = 10</div></pre></td></tr></table></figure>
<p>To make this configuration permanent add a line to <code>/etc/sysctl.conf</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vi /etc/sysctl.conf</div></pre></td></tr></table></figure></p>
<p>at the bottom of the file add this line:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vm.swappiness=10</div></pre></td></tr></table></figure></p>
<h5 id="Cache-Pressure-Setting"><a href="#Cache-Pressure-Setting" class="headerlink" title="Cache Pressure Setting"></a>Cache Pressure Setting</h5><p>This setting configures how much the system will choose to cache some information. Basically its accessing data from the filesystem and it costs much. So its nice to cache some information.</p>
<p>You can see the current value by typing:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat /proc/sys/vm/vfs_cache_pressure</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">100</div></pre></td></tr></table></figure>
<p>At this value, the system will remove information from the cache too quickly. We can set it to more suitable value like 50.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo sysctl vm.vfs_cache_pressure=50</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vm.vfs_cache_pressure = 50</div></pre></td></tr></table></figure>
<p>Again to make this configuration permanent add a line to <code>/etc/sysctl.conf</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vi /etc/sysctl.conf</div></pre></td></tr></table></figure></p>
<p>at the bottom of the file add this line:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vm.vfs_cache_pressure=50</div></pre></td></tr></table></figure></p>
<p>When you are done save and exit the file.</p>
<h3 id="ZSH"><a href="#ZSH" class="headerlink" title="ZSH"></a>ZSH</h3><blockquote><p>The Z shell (zsh) is a Unix shell that can be used as an interactive login shell and as a powerful command interpreter for shell scripting. Zsh is an extended Bourne shell with a large number of improvements, including some features of bash, ksh, and tcsh.</p>
<footer><strong>Wikipedia</strong><cite><a href="https://en.wikipedia.org/wiki/Z_shell" target="_blank" rel="external">Z shell</a></cite></footer></blockquote>
<p>In my personal use I prefer zsh with <a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Installing-ZSH" target="_blank" rel="external">oh-my-zsh</a> framework installed.</p>
<p>To install zsh:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install zsh</div></pre></td></tr></table></figure></p>
<p>To install oh-my-zsh via curl:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</div></pre></td></tr></table></figure></p>
<p>or via wget<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sh -c &quot;$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot;</div></pre></td></tr></table></figure></p>
<p>You can configure its theme and other settings according to your desires. For available themes you can look <a href="https://github.com/robbyrussell/oh-my-zsh/tree/master/themes" target="_blank" rel="external">here</a>.<br>Check out <a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="external"><i class="fa fa-github" aria-hidden="true"></i></a> repo of oh-my-zsh.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>That’s it! These are the initial steps when I’m configuring a new server.</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/spootrick">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Login"><span class="toc-number">2.</span> <span class="toc-text">Login</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Create-a-new-user"><span class="toc-number">3.</span> <span class="toc-text">Create a new user</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security"><span class="toc-number">4.</span> <span class="toc-text">Security</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH-Modifications"><span class="toc-number">4.1.</span> <span class="toc-text">SSH Modifications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Firewall"><span class="toc-number">4.2.</span> <span class="toc-text">Firewall</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Usability"><span class="toc-number">5.</span> <span class="toc-text">Usability</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swap-Space"><span class="toc-number">5.1.</span> <span class="toc-text">Swap Space</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Making-Swap-Permanent"><span class="toc-number">5.1.1.</span> <span class="toc-text">Making Swap Permanent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Configuring-Swap"><span class="toc-number">5.1.2.</span> <span class="toc-text">Configuring Swap</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Swappiness-Property"><span class="toc-number">5.1.2.1.</span> <span class="toc-text">Swappiness Property</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Cache-Pressure-Setting"><span class="toc-number">5.1.2.2.</span> <span class="toc-text">Cache Pressure Setting</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ZSH"><span class="toc-number">5.2.</span> <span class="toc-text">ZSH</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">6.</span> <span class="toc-text">Conclusion</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://furkankarakoyunlu.com/ubuntu-server-setup/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&text=Ubuntu 16.04 Server Setup"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&is_video=false&description=Ubuntu 16.04 Server Setup"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Ubuntu 16.04 Server Setup&body=Check out this article: http://furkankarakoyunlu.com/ubuntu-server-setup/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&title=Ubuntu 16.04 Server Setup"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://furkankarakoyunlu.com/ubuntu-server-setup/&name=Ubuntu 16.04 Server Setup&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Furkan Karakoyunlu
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/spootrick">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    <script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-90979308-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'spootrick';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
